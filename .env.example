# NecoKeeper - 環境変数テンプレート
# このファイルを .env にコピーして使用してください

# ============================================
# アプリケーション設定
# ============================================
APP_NAME=NecoKeeper
APP_VERSION=1.0.0

# 本番環境: production, 開発環境: development
ENVIRONMENT=production

# 本番環境では必ずfalseに設定（セキュリティ）
# trueの場合、エラー時に詳細なスタックトレースが表示される
DEBUG=false

# ============================================
# データベース設定
# ============================================
# Free Plan: data/necokeeper.db（イメージに含まれる、再デプロイで初期化）
# Starter Plan: 永続ディスクのパスを NECOKEEPER_DB_PATH で指定
# ローカル開発: sqlite:///./data/necokeeper.db
DATABASE_URL=sqlite:///./data/necokeeper.db

# DB パスの直接指定（オプション）
# Free Plan: 未設定（デフォルト: data/necokeeper.db）
# Starter Plan: /mnt/data/necokeeper.db など永続ディスクのパス
# NECOKEEPER_DB_PATH=data/necokeeper.db

# ============================================
# セキュリティ設定
# ============================================
# SECRET_KEY: 32文字以上のランダムな文字列を生成してください
# 生成方法: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here-change-this-in-production

# JWT設定
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=120

# Cookie設定（認証用）
# 本番環境（HTTPS）: true、開発環境（HTTP）: false
COOKIE_SECURE=true
# CSRF対策: lax（推奨）、strict、none
COOKIE_SAMESITE=lax
# Cookie有効期限（秒）: 7200 = 2時間
COOKIE_MAX_AGE=7200

# ============================================
# CORS設定
# ============================================
# 本番環境では実際のドメインを指定してください（JSON配列形式）
CORS_ORIGINS=["https://your-domain.onrender.com","https://www.your-domain.com"]

# ============================================
# ファイルパス設定
# ============================================
# Free Plan（エフェメラル）
MEDIA_DIR=/tmp/media
BACKUP_DIR=/tmp/backups
LOG_FILE=/tmp/logs/necokeeper.log

# Starter Plan（永続化）
# MEDIA_DIR=/app/media
# BACKUP_DIR=/app/backups
# LOG_FILE=/app/logs/necokeeper.log

# ============================================
# サーバー設定
# ============================================
HOST=0.0.0.0
PORT=8000
LOG_LEVEL=INFO

# アプリケーションのベースURL（QRコード生成などで使用）
BASE_URL=http://localhost:8000

# ============================================
# 画像設定
# ============================================
MAX_IMAGE_COUNT=20
MAX_IMAGE_SIZE_MB=5

# ============================================
# バックアップ設定
# ============================================
BACKUP_RETENTION_DAYS=90
AUTO_BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *

# ============================================
# 多言語設定
# ============================================
DEFAULT_LANGUAGE=ja
SUPPORTED_LANGUAGES=ja,en

# ============================================
# メール設定（オプション）
# ============================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@necokeeper.com

# ============================================
# 外部ストレージ設定（オプション）
# ============================================
# Cloudinary設定（Free Planでメディアファイルを永続化する場合）
# CLOUDINARY_CLOUD_NAME=your-cloud-name
# CLOUDINARY_API_KEY=your-api-key
# CLOUDINARY_API_SECRET=your-api-secret

# AWS S3設定（オプション）
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_S3_BUCKET=your-bucket-name
# AWS_S3_REGION=ap-northeast-1

# ============================================
# OCR Import設定
# ============================================
# OCR一時ファイル保存ディレクトリ
OCR_TEMP_DIR=tmp/images

# OCRログファイル
OCR_LOG_FILE=logs/ocr-import.log

# NecoKeeper API設定（OCR Hook用）
# 注意: Kiro Hookから使用されるため、必ず設定してください
NECOKEEPER_API_URL=http://localhost:8000
NECOKEEPER_ADMIN_USERNAME=admin@example.com
NECOKEEPER_ADMIN_PASSWORD=admin123

# ============================================
# Automation API設定
# ============================================
# Automation APIを有効化（Kiro Hook、MCP、自動化スクリプト用）
# 本番環境: true、開発環境: true、無効化: false
ENABLE_AUTOMATION_API=false

# Automation API Key（固定認証キー）
# ⚠️ セキュリティ警告:
# - 本番環境では必ず32文字以上のランダムな文字列を使用してください
# - このキーは環境変数でのみ管理し、コードに含めないでください
# - HTTPSを使用してキーを送信してください（本番環境必須）
# - キーが漏洩した場合は即座に再生成してください
#
# API Key生成方法:
# python -c "import secrets; print('AUTOMATION_API_KEY=' + secrets.token_urlsafe(32))"
#
# 開発環境用（本番環境では使用しないでください）:
# AUTOMATION_API_KEY=dev-test-key-for-local-development-only
#
# 本番環境用（上記コマンドで生成してください）:
AUTOMATION_API_KEY=your-automation-api-key-here-change-this-in-production

# ============================================
# MCP Server設定（Claude統合用）
# ============================================
# MCP Server用のNecoKeeper API URL
# ローカル開発: http://localhost:8000
# 本番環境: 実際のAPIのURL
# NECOKEEPER_API_URL=http://localhost:8000

# MCP Server用のAutomation API Key
# 上記のAUTOMATION_API_KEYと同じ値を使用してください
# または、MCP専用のキーを生成することもできます
# 生成方法: python -c "import secrets; print(secrets.token_urlsafe(32))"
# AUTOMATION_API_KEY=your-automation-api-key-here

# MCP Serverログ設定
# ログレベル: DEBUG, INFO, WARNING, ERROR, CRITICAL
MCP_LOG_LEVEL=INFO

# ログファイルパス
MCP_LOG_FILE=logs/mcp-server.log

# ============================================
# Kiroween Theme設定（ハッカソン用）
# ============================================
# Kiroween Mode（Necro-Terminal Theme）を有効化
# true: サイバーパンク/ホラーテーマのUIを表示
# false: 標準のNecoKeeperテーマを表示（デフォルト）
#
# 使用方法:
# 1. ハッカソンデモ時: KIROWEEN_MODE=true
# 2. 本番環境: KIROWEEN_MODE=false
# 3. 開発環境: 必要に応じて切り替え
#
# 注意:
# - この設定は環境変数でのみ制御され、コードの変更は不要です
# - テーマ切り替え後はアプリケーションの再起動が必要です
# - ビジネスロジックには影響せず、UIのみが変更されます
KIROWEEN_MODE=false
