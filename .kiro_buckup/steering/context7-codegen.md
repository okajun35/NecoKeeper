---
inclusion: always
---

# Codegen Rule: Always use Context7 MCP

次の方針を**すべてのコード生成・リファクタ**に適用すること：

1. 対象言語/フレームワーク/ライブラリを特定し、まず **Context7 MCP** を用いて最新ドキュメントを取得する。手順は以下：
   - `resolve-library-id` でライブラリ名から Context7 互換の ID を解決する
   - `get-library-docs` を **tokens: 5000 目安**で呼び、該当 API/ガイドの要点を抽出する
2. 以降の設計・実装判断は、取得したドキュメントを**一次根拠**として説明・根拠付けること。
3. バージョン差分・非推奨 API が疑われる場合は **Context7 の結果を再取得**して確認する。
4. Context7 に到達できない場合は、その旨を明示し、生成物に「一時的な代替根拠（公式Docsリンク等）」と**TODO: Context7再確認**を残す。

> 期待する結果：PR やコミット説明には「Context7 参照済み」であること、参照 API 名・バージョン・主要根拠を簡潔に記す。
