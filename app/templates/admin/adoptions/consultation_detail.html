{% extends "admin/base.html" %}

{% block title %}里親相談詳細{% endblock %}
{% block page_title %}里親相談詳細{% endblock %}
{% block page_description %}相談情報の閲覧{% endblock %}

{% block header_actions %}
<div class="flex gap-2">
    <a href="{{ settings.admin_base_path }}/adoptions/applicants"
        class="px-3 py-2 lg:px-4 lg:py-2 text-sm bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors">
        一覧へ戻る
    </a>
    <a href="{{ settings.admin_base_path }}/adoptions/consultations/{{ consultation.id }}/edit"
        class="px-3 py-2 lg:px-4 lg:py-2 text-sm bg-brand-primary text-white rounded-lg hover:opacity-90 transition-colors">
        編集
    </a>
    {% if consultation.status != 'converted' %}
    <a href="{{ settings.admin_base_path }}/adoptions/applicants/new?consultation_id={{ consultation.id }}"
        class="px-3 py-2 lg:px-4 lg:py-2 text-sm bg-emerald-600 text-white rounded-lg hover:opacity-90 transition-colors">
        申込を作成
    </a>
    {% elif consultation.applicant_id %}
    <a href="{{ settings.admin_base_path }}/adoptions/applicants/{{ consultation.applicant_id }}"
        class="px-3 py-2 lg:px-4 lg:py-2 text-sm bg-emerald-600 text-white rounded-lg hover:opacity-90 transition-colors">
        申込詳細へ
    </a>
    {% endif %}
</div>
{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto space-y-6">
    <section class="bg-white rounded-lg shadow-sm p-6">
        <h3 class="text-lg font-semibold text-gray-900">相談者情報</h3>
        <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
            <div><span class="text-gray-500">ふりがな</span><p class="mt-1">{{ consultation.name_kana }}</p></div>
            <div><span class="text-gray-500">氏名</span><p class="mt-1">{{ consultation.name }}</p></div>
            <div><span class="text-gray-500">電話番号</span><p class="mt-1">{{ consultation.phone }}</p></div>
            <div><span class="text-gray-500">連絡手段</span><p class="mt-1">{{ consultation.contact_type }}</p></div>
            <div><span class="text-gray-500">LINE ID</span><p class="mt-1">{{ consultation.contact_line_id or '-' }}</p></div>
            <div><span class="text-gray-500">メール</span><p class="mt-1">{{ consultation.contact_email or '-' }}</p></div>
            <div><span class="text-gray-500">ステータス</span><p class="mt-1">{{ consultation.status }}</p></div>
            <div><span class="text-gray-500">登録日時</span><p class="mt-1">{{ consultation.created_at.strftime('%Y-%m-%d %H:%M') }}</p></div>
        </div>
    </section>

    <section class="bg-white rounded-lg shadow-sm p-6">
        <h3 class="text-lg font-semibold text-gray-900">相談内容</h3>
        <p class="mt-3 whitespace-pre-wrap text-sm text-gray-800">{{ consultation.consultation_note }}</p>
    </section>
</div>
{% endblock %}
