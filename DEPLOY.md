# NecoKeeper - ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¬ã‚¤ãƒ‰

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€NecoKeeperã‚’Renderã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ‰‹é †ã‚’èª¬æ˜ã—ã¾ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

- [Free Plan PoC ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆ1é€±é–“ï¼‰](#free-plan-poc-ãƒ‡ãƒ—ãƒ­ã‚¤1é€±é–“)
- [Starter Planã¸ã®ç§»è¡Œï¼ˆãƒãƒƒã‚«ã‚½ãƒ³å¯©æŸ»æ™‚ï¼‰](#starter-planã¸ã®ç§»è¡Œãƒãƒƒã‚«ã‚½ãƒ³å¯©æŸ»æ™‚)
- [ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ](#ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ)
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## ğŸ†“ Free Plan PoC ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆ1é€±é–“ï¼‰

**ç›®çš„**: ãƒãƒƒã‚«ã‚½ãƒ³å‘ã‘ã®1é€±é–“ã®ãƒ‡ãƒ¢ç’°å¢ƒ

**åˆ¶ç´„**:
- âš ï¸ ãƒ‡ãƒ¼ã‚¿ã¯å†ãƒ‡ãƒ—ãƒ­ã‚¤ã§æ¶ˆãˆã‚‹ï¼ˆPoCå‰²ã‚Šåˆ‡ã‚Šï¼‰
- âš ï¸ 15åˆ†é–“ã‚¢ã‚¯ã‚»ã‚¹ãªã—ã§ã‚¹ãƒ”ãƒ³ãƒ€ã‚¦ãƒ³ï¼ˆåˆå›ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«é…å»¶ï¼‰
- âš ï¸ æœˆ750æ™‚é–“ã®åˆ¶é™

### å‰ææ¡ä»¶

- GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- Renderã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆç„¡æ–™ï¼‰
- GitHubãƒªãƒã‚¸ãƒˆãƒªã«NecoKeeperã‚’ãƒ—ãƒƒã‚·ãƒ¥æ¸ˆã¿

### ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

#### 1. Renderã«ãƒ­ã‚°ã‚¤ãƒ³

https://dashboard.render.com/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãƒ­ã‚°ã‚¤ãƒ³

#### 2. æ–°ã—ã„Web Serviceã‚’ä½œæˆ

1. **New** â†’ **Web Service** ã‚’ã‚¯ãƒªãƒƒã‚¯
2. GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’æ¥ç¶š
3. NecoKeeperãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠ

#### 3. ã‚µãƒ¼ãƒ“ã‚¹è¨­å®š

| è¨­å®šé …ç›® | å€¤ | èª¬æ˜ |
|---------|-----|------|
| **Name** | necokeeperï¼ˆã¾ãŸã¯ä»»æ„ã®åå‰ï¼‰ | ã‚µãƒ¼ãƒ“ã‚¹åï¼ˆURL: necokeeper.onrender.comï¼‰ |
| **Language** | Docker | Dockerfileã‚’ä½¿ç”¨ |
| **Branch** | main | ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ãƒ–ãƒ©ãƒ³ãƒï¼ˆæ¨å¥¨: mainï¼‰ |
| **Root Directory** | ï¼ˆç©ºæ¬„ï¼‰ | âš ï¸ ç©ºæ¬„ã®ã¾ã¾ï¼ˆå…¥åŠ›ã—ãªã„ï¼‰ |
| **Dockerfile Path** | `./Dockerfile` | âš ï¸ æ­£ç¢ºã«å…¥åŠ›ï¼ˆã‚¹ãƒšãƒ¼ã‚¹ä¸è¦ï¼‰ |
| **Instance Type** | Free | ç„¡æ–™ãƒ—ãƒ©ãƒ³ |

**âš ï¸ ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼**:
- âŒ Dockerfile Path: `/ ./Dockerfile`ï¼ˆä½™è¨ˆãªã‚¹ãƒšãƒ¼ã‚¹ï¼‰
- âŒ Root Directory: `/`ï¼ˆä¸è¦ï¼‰
- âœ… Dockerfile Path: `./Dockerfile`ï¼ˆæ­£ã—ã„ï¼‰
- âœ… Root Directory: ï¼ˆç©ºæ¬„ï¼‰

**ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥**:

**ãƒãƒƒã‚«ã‚½ãƒ³å‘ã‘ï¼ˆæ¨å¥¨ï¼‰**:
- `main`ãƒ–ãƒ©ãƒ³ãƒã‚’ç›´æ¥ãƒ‡ãƒ—ãƒ­ã‚¤
- ã‚·ãƒ³ãƒ—ãƒ«ã§ç´ æ—©ã„ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ãŸã³ã«è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

**æœ¬ç•ªé‹ç”¨å‘ã‘ï¼ˆå°†æ¥ï¼‰**:
```
main (é–‹ç™º) â†’ PR â†’ deploy (æœ¬ç•ª) â†’ Renderè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
```
- `deploy`ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
- `main`ã‹ã‚‰`deploy`ã¸ã®PRã§ãƒ¬ãƒ“ãƒ¥ãƒ¼
- `deploy`ã¸ã®ãƒãƒ¼ã‚¸ã§æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤

#### 4. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š

**âš ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é‡è¦äº‹é …**:
- æœ¬ç•ªç’°å¢ƒã§ã¯**å¿…ãš`DEBUG=false`**ã«è¨­å®š
- `SECRET_KEY`ã¯**32æ–‡å­—ä»¥ä¸Šã®ãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ—**ã‚’ä½¿ç”¨
- `CORS_ORIGINS`ã¯**å®Ÿéš›ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã¿**ã‚’æŒ‡å®š
- **ç’°å¢ƒå¤‰æ•°ã¯Render Dashboardç”»é¢ã‹ã‚‰è¨­å®š**ï¼ˆDockerã«å†…è”µã—ãªã„ï¼‰

**ç’°å¢ƒå¤‰æ•°ã®è¨­å®šæ–¹æ³•**:

1. **Advanced** â†’ **Environment Variables** ã‚’ã‚¯ãƒªãƒƒã‚¯
2. **Add Environment Variable** ã§ä»¥ä¸‹ã‚’1ã¤ãšã¤è¿½åŠ ï¼š

```bash
# å¿…é ˆ
SECRET_KEY=<32æ–‡å­—ä»¥ä¸Šã®ãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ—>
DATABASE_URL=sqlite:////tmp/data/necokeeper.db
ENVIRONMENT=production
DEBUG=false

# æ¨å¥¨
CORS_ORIGINS=https://necokeeper.onrender.com
MEDIA_DIR=/tmp/media
BACKUP_DIR=/tmp/backups
LOG_FILE=/tmp/logs/necokeeper.log
LOG_LEVEL=INFO
```

**é‡è¦**:
- âš ï¸ **æœ¬ç•ªç’°å¢ƒã§ã¯å¿…ãš`DEBUG=false`ã«è¨­å®šã—ã¦ãã ã•ã„**
- `DEBUG=true`ã®å ´åˆã€ã‚¨ãƒ©ãƒ¼æ™‚ã«è©³ç´°ãªã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã«ãªã‚Šã¾ã™
- `ENVIRONMENT=production`ã¨`DEBUG=false`ã‚’ã‚»ãƒƒãƒˆã§è¨­å®š

**SECRET_KEYã®ç”Ÿæˆæ–¹æ³•**:
```bash
python -c "import secrets; print(secrets.token_urlsafe(32))"
```

**é‡è¦**:
- âŒ **ç’°å¢ƒå¤‰æ•°ã‚’Dockerfileã«ç›´æ¥æ›¸ã‹ãªã„**ï¼ˆGitã«ã‚³ãƒŸãƒƒãƒˆã•ã‚Œã‚‹ï¼‰
- âŒ **ç’°å¢ƒå¤‰æ•°ã‚’.envãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ã„ã¦ã‚³ãƒŸãƒƒãƒˆã—ãªã„**
- âœ… **Render Dashboardç”»é¢ã‹ã‚‰è¨­å®šã™ã‚‹**ï¼ˆå®‰å…¨ï¼‰
- âœ… **å„ç’°å¢ƒï¼ˆFree/Starterï¼‰ã§ç•°ãªã‚‹å€¤ã‚’è¨­å®šå¯èƒ½**

**ç’°å¢ƒå¤‰æ•°ã®å„ªå…ˆé †ä½**:
1. Render Dashboardè¨­å®šï¼ˆæœ€å„ªå…ˆï¼‰
2. Dockerfileã®`ENV`æŒ‡ä»¤
3. .envãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã®ã¿ï¼‰

#### 5. ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ

**Create Web Service** ã‚’ã‚¯ãƒªãƒƒã‚¯

ãƒ‡ãƒ—ãƒ­ã‚¤ã«ã¯5-10åˆ†ã‹ã‹ã‚Šã¾ã™ã€‚

#### 6. åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆRenderç’°å¢ƒã®ã¿ï¼‰

**æ³¨æ„**:
- âš ï¸ **Render Free Planã§ã¯å†ãƒ‡ãƒ—ãƒ­ã‚¤ã®ãŸã³ã«ãƒ‡ãƒ¼ã‚¿ãŒæ¶ˆãˆã¾ã™**
- âš ï¸ å†ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã¯æ¯å›ã“ã®æ‰‹é †ãŒå¿…è¦ã§ã™
- âœ… ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã§ã¯`data/necokeeper.db`ãŒæ°¸ç¶šåŒ–ã•ã‚Œã‚‹ãŸã‚ä¸è¦

ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†å¾Œã€ä»¥ä¸‹ã®æ‰‹é †ã§åˆæœŸåŒ–ï¼š

1. **Shell** ã‚¿ãƒ–ã‚’é–‹ãï¼ˆRender Dashboardï¼‰
2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–:
   ```bash
   alembic upgrade head
   ```
3. åˆæœŸç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ:
   ```bash
   python -c "
   from app.database import SessionLocal
   from app.models.user import User
   from app.auth.password import hash_password

   db = SessionLocal()
   admin = User(
       email='admin@example.com',
       password_hash=hash_password('admin123'),
       name='ç®¡ç†è€…',
       role='admin',
       is_active=True
   )
   db.add(admin)
   db.commit()
   print('âœ… ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆå®Œäº†')
   "
   ```

**Starter Planã¸ã®ç§»è¡Œå¾Œ**:
- âœ… Persistent Diskã§ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
- âœ… åˆå›ã®ã¿åˆæœŸåŒ–ã™ã‚Œã°OK
- âœ… å†ãƒ‡ãƒ—ãƒ­ã‚¤ã§ã‚‚ãƒ‡ãƒ¼ã‚¿ã¯ä¿æŒã•ã‚Œã‚‹

#### 7. ã‚¢ã‚¯ã‚»ã‚¹ç¢ºèª

`https://necokeeper.onrender.com` ã«ã‚¢ã‚¯ã‚»ã‚¹

**åˆå›ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã®æ³¨æ„**:
- ã‚¹ãƒ”ãƒ³ãƒ€ã‚¦ãƒ³ã‹ã‚‰å¾©å¸°ã™ã‚‹ãŸã‚ã€30-60ç§’ã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™
- ãƒ­ã‚°ã‚¤ãƒ³: `admin@example.com` / `admin123`

---

## ğŸ’° Starter Planã¸ã®ç§»è¡Œï¼ˆãƒãƒƒã‚«ã‚½ãƒ³å¯©æŸ»æ™‚ï¼‰

**ç›®çš„**: ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–ã¨å®‰å®šé‹ç”¨

**ã‚³ã‚¹ãƒˆ**: $7/æœˆ

### ç§»è¡Œæ‰‹é †

#### 1. ãƒ—ãƒ©ãƒ³ã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰

1. Render Dashboard â†’ NecoKeeperã‚µãƒ¼ãƒ“ã‚¹
2. **Settings** â†’ **Instance Type**
3. **Starter** ã‚’é¸æŠ
4. **Save Changes**

#### 2. Persistent Diskã‚’è¿½åŠ 

1. **Disks** ã‚¿ãƒ–ã‚’é–‹ã
2. **Add Disk** ã‚’ã‚¯ãƒªãƒƒã‚¯
3. è¨­å®š:
   - **Name**: necokeeper-data
   - **Mount Path**: /app/data
   - **Size**: 1 GB
4. **Add Disk**

#### 3. ç’°å¢ƒå¤‰æ•°ã‚’æ›´æ–°

**Environment Variables** ã§ä»¥ä¸‹ã‚’å¤‰æ›´ï¼š

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ã‚’æ°¸ç¶šåŒ–ãƒ‡ã‚£ã‚¹ã‚¯ã«å¤‰æ›´
DATABASE_URL=sqlite:////app/data/necokeeper.db

# ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’æ°¸ç¶šåŒ–ãƒ‡ã‚£ã‚¹ã‚¯ã«å¤‰æ›´
MEDIA_DIR=/app/media
BACKUP_DIR=/app/backups
LOG_FILE=/app/logs/necokeeper.log
```

#### 4. å†ãƒ‡ãƒ—ãƒ­ã‚¤

**Manual Deploy** â†’ **Deploy latest commit**

#### 5. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–ï¼ˆå†åº¦ï¼‰

Persistent Diskã¯ç©ºãªã®ã§ã€å†åº¦åˆæœŸåŒ–ãŒå¿…è¦ï¼š

```bash
alembic upgrade head
```

åˆæœŸç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚‚å†ä½œæˆã—ã¦ãã ã•ã„ã€‚

#### 6. ãƒ‡ãƒ¼ã‚¿ç§»è¡Œï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

Free Planæ™‚ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç§»è¡Œã™ã‚‹å ´åˆ:

1. Free Planæ™‚ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆCSVç­‰ï¼‰
2. Starter Planç’°å¢ƒã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

---

## ğŸŒ¿ ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ï¼ˆè©³ç´°ï¼‰

### ãƒãƒƒã‚«ã‚½ãƒ³å‘ã‘ï¼ˆ1é€±é–“ã®PoCï¼‰

**æ¨å¥¨: `main`ãƒ–ãƒ©ãƒ³ãƒç›´æ¥ãƒ‡ãƒ—ãƒ­ã‚¤**

```
main â†’ Renderè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
```

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… ã‚·ãƒ³ãƒ—ãƒ«
- âœ… ç´ æ—©ã„ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- âœ… 1äººã€œå°è¦æ¨¡ãƒãƒ¼ãƒ å‘ã‘

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âš ï¸ æœ¬ç•ªç’°å¢ƒã«ç›´æ¥åæ˜ ã•ã‚Œã‚‹
- âš ï¸ ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹ãªã—

**è¨­å®šæ–¹æ³•**:
1. Render Dashboard â†’ NecoKeeperã‚µãƒ¼ãƒ“ã‚¹
2. **Settings** â†’ **Build & Deploy**
3. **Branch**: `main`
4. **Auto-Deploy**: `Yes`ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰

### æœ¬ç•ªé‹ç”¨å‘ã‘ï¼ˆå°†æ¥ï¼‰

**æ¨å¥¨: `deploy`ãƒ–ãƒ©ãƒ³ãƒä½œæˆ**

```
feature/xxx â†’ main (é–‹ç™º) â†’ PR â†’ deploy (æœ¬ç•ª) â†’ Renderè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
```

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… æœ¬ç•ªç’°å¢ƒã®å®‰å®šæ€§
- âœ… ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹
- âœ… ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å®¹æ˜“

**è¨­å®šæ–¹æ³•**:

1. **deployãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ**:
   ```bash
   git checkout -b deploy
   git push origin deploy
   ```

2. **Renderè¨­å®šã‚’å¤‰æ›´**:
   - Render Dashboard â†’ NecoKeeperã‚µãƒ¼ãƒ“ã‚¹
   - **Settings** â†’ **Build & Deploy**
   - **Branch**: `deploy`ã«å¤‰æ›´

3. **GitHub Branch Protectionè¨­å®š**ï¼ˆæ¨å¥¨ï¼‰:
   - Settings â†’ Branches â†’ Add rule
   - Branch name pattern: `deploy`
   - âœ… Require pull request reviews before merging
   - âœ… Require status checks to pass

4. **ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼**:
   ```bash
   # é–‹ç™º
   git checkout main
   git add .
   git commit -m "feat: æ–°æ©Ÿèƒ½"
   git push origin main

   # æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤
   git checkout deploy
   git merge main
   git push origin deploy  # â†’ Renderè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
   ```

---

## ğŸ–¥ï¸ ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ

### Docker Composeã‚’ä½¿ç”¨

```bash
# ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰
docker-compose build

# ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•
docker-compose up -d

# ãƒ­ã‚°ã‚’ç¢ºèª
docker-compose logs -f

# ã‚³ãƒ³ãƒ†ãƒŠã‚’åœæ­¢
docker-compose down
```

ã‚¢ã‚¯ã‚»ã‚¹: http://localhost:8000

### ç›´æ¥å®Ÿè¡Œ

```bash
# ä»®æƒ³ç’°å¢ƒä½œæˆ
python -m venv .venv

# ä»®æƒ³ç’°å¢ƒã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆï¼ˆLinux/Macï¼‰
source .venv/bin/activate

# ä»®æƒ³ç’°å¢ƒã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆï¼ˆWindowsï¼‰
.venv\Scripts\activate

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# ç’°å¢ƒå¤‰æ•°è¨­å®š
cp .env.example .env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–
alembic upgrade head

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
uvicorn app.main:app --reload
```

ã‚¢ã‚¯ã‚»ã‚¹: http://localhost:8000

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### DockerfileãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼**:
```
Service Root Directory "/opt/render/project/src/ ./Dockerfile" is missing
error: invalid local: resolve : lstat /opt/render/project/src/ .: no such file or directory
```

**åŸå› **: Dockerfile Pathã®è¨­å®šãŒé–“é•ã£ã¦ã„ã‚‹

**è§£æ±ºæ–¹æ³•**:
1. Render Dashboard â†’ NecoKeeperã‚µãƒ¼ãƒ“ã‚¹
2. **Settings** â†’ **Build & Deploy**
3. **Dockerfile Path**: `./Dockerfile` ã«ä¿®æ­£ï¼ˆä½™è¨ˆãªã‚¹ãƒšãƒ¼ã‚¹ã‚’å‰Šé™¤ï¼‰
4. **Root Directory**: ç©ºæ¬„ã«ã™ã‚‹ï¼ˆä½•ã‚‚å…¥åŠ›ã—ãªã„ï¼‰
5. **Save Changes**
6. **Manual Deploy** â†’ **Deploy latest commit**

### ã‚¹ãƒ”ãƒ³ãƒ€ã‚¦ãƒ³å¯¾ç­–ï¼ˆFree Planï¼‰

**å•é¡Œ**: 15åˆ†é–“ã‚¢ã‚¯ã‚»ã‚¹ãªã—ã§ã‚¹ãƒ”ãƒ³ãƒ€ã‚¦ãƒ³

**å¯¾ç­–**:
1. å¤–éƒ¨ç›£è¦–ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨ï¼ˆUptimeRobotç­‰ï¼‰
2. å®šæœŸçš„ã«ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹
   ```bash
   curl https://necokeeper.onrender.com/health
   ```

### ãƒ‡ãƒ¼ã‚¿æ¶ˆå¤±æ™‚ã®å¯¾å¿œï¼ˆFree Planï¼‰

**å•é¡Œ**: å†ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãƒ‡ãƒ¼ã‚¿ãŒæ¶ˆãˆã‚‹

**å¯¾ç­–**:
1. å®šæœŸçš„ã«ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆCSVï¼‰
2. é‡è¦ãªãƒ‡ãƒ¼ã‚¿ã¯å¤–éƒ¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
3. Starter Planã¸ã®æ—©æœŸç§»è¡Œã‚’æ¤œè¨

### ãƒ¡ãƒ¢ãƒªä¸è¶³

**å•é¡Œ**: 512MBãƒ¡ãƒ¢ãƒªåˆ¶é™ï¼ˆFree Planï¼‰

**å¯¾ç­–**:
1. å¤§é‡ã®ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚’é¿ã‘ã‚‹
2. PDFç”Ÿæˆã‚’æœ€å°é™ã«
3. Starter Planã¸ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼ˆ512MB â†’ 2GBï¼‰

### æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œãªã„

**å•é¡Œ**: PDFå¸³ç¥¨ã§æ—¥æœ¬èªãŒè¡¨ç¤ºã•ã‚Œãªã„

**ç¢ºèª**:
```bash
# Dockerã‚³ãƒ³ãƒ†ãƒŠå†…ã§ãƒ•ã‚©ãƒ³ãƒˆç¢ºèª
fc-list | grep -i noto
fc-list | grep -i ipa
```

**å¯¾ç­–**:
- Dockerfileã«æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- `fonts-noto-cjk`ã€`fonts-ipafont-gothic` ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼

**å•é¡Œ**: `sqlite3.OperationalError: unable to open database file`

**å¯¾ç­–**:
1. DATABASE_URLã®ãƒ‘ã‚¹ã‚’ç¢ºèª
2. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ¨©é™ã‚’ç¢ºèª
3. Free Plan: `/tmp/data/` ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
4. Starter Plan: Persistent DiskãŒãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

**å•é¡Œ**: Dockerãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—

**ç¢ºèª**:
1. requirements.txtãŒæœ€æ–°ã‹ç¢ºèª
2. Dockerfileã®æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª
3. Render Build Logsã‚’ç¢ºèª

---

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- [Renderå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://render.com/docs)
- [Dockerå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.docker.com/)
- [FastAPIå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://fastapi.tiangolo.com/)
- [SQLAlchemyå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.sqlalchemy.org/)

---

## ğŸ†˜ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆ:
1. [GitHub Issues](https://github.com/your-repo/necokeeper/issues)
2. [Render Community](https://community.render.com/)
